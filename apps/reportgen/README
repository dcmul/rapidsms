=================
= reportgen App =
=================

== Requirements ==
Celery >= 2.2.5
django-celery >= 2.2.4
RabbitMQ >= 1.7.2
Carrot >= 0.10.7

That you configure settings.py with
all of the necessary CELERY_ flags

== Steps to adding a new report ==
1) Put definition in apps/reportgen/definitions
2) Add progress indicator code with self.set_progress()
3) Add report classname to apps/reportgen/definitions/__init__.py
4) Create Report record in DB
5) Restart celeryd

== Steps to converting a CC+ Report ==
1) Put definition in apps/reportgen/definitions
2) Change definition name from Report to ReportDefinition
3) Change line:
        from childcount.reports.reports_framework import PrintedReport
   to:
        from reportgen.PrintedReport import PrintedReport
4) Change other calls to childcount.reports.* to their
    equivalents in reportgen
5) Change definition from:
        generate(self, ...)
    to
        generate(self, time_period, ...)
6) Remove ": " from report title for reports with variants
7) Make definition use the time_period object instead of one-off
   time period code
8) Add progress indicator code with self.set_progress()
9) Add report classname to apps/reportgen/definitions/__init__.py
10) Create Report record in DB
11) Restart celeryd

== Introduction ==

Goal: Replace ChildCount "reporting framework"
and separate the reporting code from the main
ChildCount code.

== Pages ==

Nightly Reports
- List of all reports (with links) that are
  generated overnight. 
- Should list the time at which each report
  was generated.

On-Demand Reports
- List of reports in reverse chronological order
  that have already been generated (with links)

Settings (to-do)
- Add/remove/modify NightlyReports

== Tasks ==
nightly_reports
- Same as childcount.tasks.gen_framework_nightly_reports
- Loop through all NightlyReports and generates
  the reports for all variants and formats for
  the selected period

delete_old_reports
- Wipe out generated reports that are not one of the
  30 most recent reports

== PrintedReport API ==


