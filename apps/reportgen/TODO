=================
= reportgen App =
=================

Goal: Replace ChildCount "reporting framework"
and separate the reporting code from the main
ChildCount code.

== Models ==

Report
- title
- classname (for finding definition file)

NightlyReports
- report_id
- period_id
- period_index
- /* For example, we might want to generate
   * the OperationalReport for last month
   * every night. Then the period_index for
   * (today - 4 weeks) might be "4", so 
   * period_index=4
   */

GeneratedReports
- filename
- title
- fileformat
- period_title (e.g., "January 2011")
- variant_title (e.g., "Ntungu Clinic")
- started_at
- finished_at
- error_message

== Classes ==

ReportDefinition
- same as the old PrintedReport

PeriodType (e.g., "Monthly")
- title
- description
- periods :: [Period]

Period (e.g., "3 Jan - 2 Feb 2011")
- title ("3 Jan - 2 Feb 2011")
- relative_title ("Monday 2 weeks ago")
- start
- end
- sub_periods :: [SubPeriod]

SubPeriod (e.g., "Week of 5 Jan. 2011")
- title
- start
- end
== Pages ==

Nightly Reports
- List of all reports (with links) that are
  generated overnight. 
- Should list the time at which each report
  was generated.

Generated Reports
- List of reports in reverse chronological order
  that have already been generated (with links)

Settings
- Add/remove/modify NightlyReports

== Tasks ==
nightly_reports
- Same as childcount.tasks.gen_framework_nightly_reports
- Loop through all NightlyReports and generates
  the reports for all variants and formats for
  the selected period

purge_reports
- Wipe out generated reports that are more than X days old


