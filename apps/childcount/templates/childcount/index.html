{% extends base_template %}
{% block page_stylesheets %}
{{ block.super }}
<link type="text/css" rel="stylesheet" href="/static/childcount/stylesheets/basic.css"/>

{% endblock page_stylesheets %}

{% block javascripts %}
<script type="text/javascript" language="javascript" src="/static/childcount/scripts/raphael-min.js"></script>
<script type="text/javascript" language="javascript" src="/static/childcount/scripts/g.raphael.js"></script>
<script type="text/javascript" language="javascript" src="/static/childcount/scripts/g.line.js"></script>
<script type="text/javascript" language="javascript" src="/static/childcount/scripts/g.pie.js"></script>
	<script type="text/javascript" charset="utf-8">

// Run the script on DOM ready:
     window.onload = function () {
                var r = Raphael("muacpie", width=400, height=250);

                var pie = r.g.piechart(280, 120, 100, {{risk|safe}}, legendpos: "west" });
                pie.hover(function () {
                    this.sector.stop();
                    this.sector.scale(1.1, 1.1, this.cx, this.cy);
                    if (this.label) {
                        this.label[0].stop();
                        this.label[0].scale(1.5);
                        this.label[1].attr({"font-weight": 800});
                    }
                }, function () {
                    this.sector.animate({scale: [1, 1, this.cx, this.cy]}, 500, "bounce");
                    if (this.label) {
                        this.label[0].animate({scale: 0.5}, 500, "bounce");
                        this.label[1].attr({"font-weight": 400});
                    }
                });
            /*    
		var s = Raphael("smspie", width=400, height=250);

                s.g.txtattr.font = "12px 'Fontin Sans', Fontin-Sans, sans-serif";
                
                //r.g.text(250, 30, "Interactive Pie Chart").attr({"font-size": 20});

                var pie = s.g.piechart(280, 120, 100, {{risk|safe}}, legendpos: "west" });
          */

 var r = Raphael("smspie");
                r.g.txtattr.font = "12px 'Fontin Sans', Fontin-Sans, sans-serif";
                
                var x = [], y = [], y2 = [], y3 = [];
                for (var i = 0; i < 500; i++) {
                    x[i] = i * 10;
                    y[i] = (y[i - 1] || 0) + (Math.random() * 7) - 3;
                    y2[i] = (y2[i - 1] || 150) + (Math.random() * 7) - 3.5;
                    y3[i] = (y3[i - 1] || 300) + (Math.random() * 7) - 4;
                }

               

               // r.g.linechart(10, 10, 300, 220, x, [y, y2, y3]);
                //r.g.linechart(330, 10, 300, 220, x, [y, y2, y3], {shade: true});
                //r.g.linechart(10, 250, 400, 400, x, [y, y2, y3], {nostroke: true, shade: true});
                var lines = r.g.linechart(10, 10, 320, 320, [[7, 7, 9, 4, 5, 6, 7],[3.5, 4.5, 5.5, 6.5, 7, 8]], [[12, 32, 23, 15, 17, 27, 22], [10, 20, 30, 25, 15, 28]], {nostroke: false, axis: "0 0 1 1"})
                // lines.lines[0].animate({"stroke-width": 6}, 1000);
                // lines.symbols[0].attr({stroke: "#fff"});
                // lines.symbols[0][1].animate({fill: "#f00"}, 1000);
  };
</script>

{% endblock javascripts %}

{% block page_tabs %}

{% endblock %}
{% block title %}{{ title }}{% endblock %}
{% block content %}

<table width="100%" class='summary'>
    <tr>
        <th>No. Of Households</th>
        <th>No. Of Patients</th>
        <th>No. Of Underfives</th>
        <th>No. Of Pregnant Women</th>
    </tr>
    <tr>
        <td>{{summary.num_households}}</td>
        <td>{{summary.num_patients}}</td>
        <td>{{summary.num_underfive}}</td>
        <td>{{summary.num_pregnant}}</td>
    </tr>
</table>
<div id='ch-bd'><div id='ch-l'>
    <p>General Options:
    <a href='{% url add_chw %}' class='html'>Create CHW Account</a>
            | <a href='{% url list_chw %}' class='html'>View List</a>
    </p>
<div class='block'>
    <div class="block_child">
	    <div class="hd">
		    <h2>ChildCount Reports</h2>
		</div>
	    <div class="bd">
        <ul>
            <li>Operational Report <a href='/childcount/operationalreport/pdf' class='pdf'>pdf</a>
            </li>
            <li>Patient Register
                <ul>
                {% for clinic in clinics %}
                    <li><a href='/childcount/registerlist/{{ clinic.id }}'>{{ clinic }}</a></li>
                {% endfor %}
                </ul>
            </li>
            <li>Patient List <a href='/childcount/patients' class='html'>html</a> 
            </li>
            <li>Under five Patient List <a href='/childcount/patients/underfive/html' class='html'>html</a> 
                | <a href='/childcount/patients/underfive/pdf' class='pdf'>pdf</a>
            </li>
            <li>Patient list per community health worker <a href='/childcount/patients_per_chw/pdf' class='pdf'>pdf</a>
            </li>
            <li>Under five list per community health worker <a href='/childcount/under_five' class='pdf'>pdf</a>
            </li>
        </ul>
    </div>

    </div>

    <div class="ft">		
	    <div class="first"></div>
	    <div class="last"></div>
    </div>
</div>
</div>
<div id='ch-r'>
    <div class='block'>
    <div class="block_child">
	    <div class="hd">
		    <h2>SMS Graph
		    </h2>
	    </div>
	    <div class="bd" >
	    	<div id='visualize'></div>
	    </div>

    </div>

    <div class="ft">		
	    <div class="first"></div>
	    <div class="last"></div>
    </div>
</div>
</div>
    
<h2>Sms Per day </h2>
<div id='smspie'> 
</div>

</div>

<div style="clear:both;"></div>
<div>
</div>
{% endblock %}

